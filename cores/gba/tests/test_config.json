{
  "description": "GBA Emulator Test Configuration",
  "repository": "https://github.com/jsmolka/gba-tests.git",
  "timeout_seconds": 30,
  "frame_limit": 300,

  "test_suites": {
    "arm": {
      "name": "ARM Instruction Set",
      "description": "Tests ARM mode CPU instructions including data processing, branches, multiply, load/store, and block transfers",
      "priority": "critical",
      "tests": [
        {
          "path": "arm/arm.gba",
          "expected": "pass",
          "description": "Comprehensive ARM instruction test suite",
          "notes": "Tests: conditions (1-49), branches (50-99), flags (100-149), shifts (150-199), data processing (200-249), PSR transfer (250-299), multiply (300-349), single transfer (350-399), halfword transfer (400-449), data swap (450-499), block transfer (500+)"
        }
      ]
    },

    "thumb": {
      "name": "Thumb Instruction Set",
      "description": "Tests Thumb mode CPU instructions including arithmetic, logical, shifts, branches, and memory operations",
      "priority": "critical",
      "tests": [
        {
          "path": "thumb/thumb.gba",
          "expected": "pass",
          "description": "Comprehensive Thumb instruction test suite",
          "notes": "Tests arithmetic, logical operations, shifts, branches, and memory access in Thumb mode"
        }
      ]
    },

    "memory": {
      "name": "Memory Access",
      "description": "Tests memory access patterns, mirroring, and video memory operations",
      "priority": "high",
      "tests": [
        {
          "path": "memory/memory.gba",
          "expected": "pass",
          "description": "Memory access and mirroring tests",
          "notes": "Tests memory mirrors and video STRB behavior"
        }
      ]
    },

    "ppu": {
      "name": "PPU/Graphics",
      "description": "Tests PPU rendering including background modes and color output",
      "priority": "high",
      "tests": [
        {
          "path": "ppu/hello.gba",
          "expected": "pass",
          "description": "Basic PPU hello world test",
          "notes": "Simple text rendering test using mode 4"
        },
        {
          "path": "ppu/shades.gba",
          "expected": "pass",
          "description": "PPU color shading test",
          "notes": "Tests color palette and shade rendering"
        },
        {
          "path": "ppu/stripes.gba",
          "expected": "pass",
          "description": "PPU stripe pattern test",
          "notes": "Tests pattern rendering and pixel accuracy"
        }
      ]
    },

    "bios": {
      "name": "BIOS Functions",
      "description": "Tests BIOS SWI (software interrupt) functions",
      "priority": "medium",
      "tests": [
        {
          "path": "bios/bios.gba",
          "expected": "pass",
          "description": "BIOS function tests",
          "notes": "Requires BIOS file or HLE (High Level Emulation) implementation. Tests SWI functions like Div, Sqrt, ArcTan, etc."
        }
      ]
    },

    "save": {
      "name": "Save Types",
      "description": "Tests save type detection and functionality",
      "priority": "medium",
      "tests": [
        {
          "path": "save/sram.gba",
          "expected": "pass",
          "description": "SRAM save type test",
          "notes": "Tests 32KB SRAM read/write functionality"
        },
        {
          "path": "save/flash64.gba",
          "expected": "pass",
          "description": "Flash 64K save type test",
          "notes": "Tests 64KB Flash memory commands and read/write"
        },
        {
          "path": "save/flash128.gba",
          "expected": "pass",
          "description": "Flash 128K save type test",
          "notes": "Tests 128KB Flash memory with bank switching"
        },
        {
          "path": "save/none.gba",
          "expected": "pass",
          "description": "No save type test",
          "notes": "Verifies behavior when no save type is present"
        }
      ]
    },

    "unsafe": {
      "name": "Unsafe/Edge Cases",
      "description": "Edge case tests that may not pass on real hardware",
      "priority": "low",
      "tests": [
        {
          "path": "unsafe/unsafe.gba",
          "expected": "known_fail",
          "description": "SRAM mirror and unused ROM reads",
          "notes": "These tests may not pass on real hardware. SRAM mirror test passes on No$GBA/mGBA but fails on hardware. Unused ROM reads test passes on mGBA but fails on No$GBA and hardware."
        }
      ]
    }
  },

  "arm_test_ranges": {
    "conditions": {"start": 1, "end": 49, "description": "ARM condition code tests (EQ, NE, CS, CC, MI, PL, VS, VC, HI, LS, GE, LT, GT, LE, AL, NV)"},
    "branches": {"start": 50, "end": 99, "description": "ARM branch instruction tests (B, BL, BX)"},
    "flags": {"start": 100, "end": 149, "description": "ARM flag manipulation tests (N, Z, C, V flags)"},
    "shifts": {"start": 150, "end": 199, "description": "ARM shift operation tests (LSL, LSR, ASR, ROR, RRX)"},
    "data_processing": {"start": 200, "end": 249, "description": "ARM data processing tests (AND, EOR, SUB, RSB, ADD, ADC, SBC, RSC, TST, TEQ, CMP, CMN, ORR, MOV, BIC, MVN)"},
    "psr_transfer": {"start": 250, "end": 299, "description": "ARM PSR transfer tests (MRS, MSR)"},
    "multiply": {"start": 300, "end": 349, "description": "ARM multiply tests (MUL, MLA, UMULL, UMLAL, SMULL, SMLAL)"},
    "single_transfer": {"start": 350, "end": 399, "description": "ARM single data transfer tests (LDR, STR, LDRB, STRB)"},
    "halfword_transfer": {"start": 400, "end": 449, "description": "ARM halfword transfer tests (LDRH, STRH, LDRSB, LDRSH)"},
    "data_swap": {"start": 450, "end": 499, "description": "ARM data swap tests (SWP, SWPB)"},
    "block_transfer": {"start": 500, "end": 599, "description": "ARM block data transfer tests (LDM, STM with various addressing modes)"}
  },

  "known_issues": {
    "bios_hle": "BIOS tests require either a real BIOS dump or accurate HLE implementation of SWI functions",
    "flash_timing": "Flash memory operations may have timing-sensitive behavior",
    "sram_mirror": "SRAM mirroring behavior may differ between emulators and hardware",
    "unused_rom": "Unused ROM area read behavior is not well-defined"
  },

  "hardware_notes": {
    "arm7tdmi": "GBA uses ARM7TDMI CPU with 16.78MHz clock",
    "memory_regions": {
      "bios": "0x00000000-0x00003FFF (16KB)",
      "ewram": "0x02000000-0x0203FFFF (256KB)",
      "iwram": "0x03000000-0x03007FFF (32KB)",
      "io": "0x04000000-0x040003FE",
      "palette": "0x05000000-0x050003FF (1KB)",
      "vram": "0x06000000-0x06017FFF (96KB)",
      "oam": "0x07000000-0x070003FF (1KB)",
      "rom": "0x08000000-0x09FFFFFF (32MB max)",
      "sram": "0x0E000000-0x0E00FFFF (64KB)"
    }
  }
}
